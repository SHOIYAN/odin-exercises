<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Working with api's</title>
    <!-- link to css -->
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="giphContainer">
      <h2>Giph Search</h2>
      <div class="giphImage"><img src="#" /></div>
      <div class="giphOperators">
        <input class="input" type="text" placeholder="Search..." />
        <button class="searchButton">Search</button>
      </div>
    </div>
  </body>
  <script>
    const img = document.querySelector(".giphImage img");
    const searchInput = document.querySelector(".input");
    const searchButton = document.querySelector(".searchButton");

    async function getNewImage() {
      try {
        const apiKey = "YOUR_API_KEY_HERE";
        const searchTerm = searchInput.value;

        img.alt = "Loading...";
        img.src = "";

        const response = await fetch(
          `https://api.giphy.com/v1/gifs/translate?api_key=${apiKey}&s=${searchTerm}`
        );
        if (!response.ok) {
          throw new Error(`${response.status} API Error`);
        }
        const apiData = await response.json();

        img.src = apiData.data.images.original.url;
        
      } catch (error) {
        console.error(`Network error ${error}`);
        img.alt = "Failed to load image";
      }
    }
    searchButton.addEventListener("click", getNewImage);
  </script>
</html>
